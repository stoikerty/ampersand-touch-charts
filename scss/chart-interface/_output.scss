@import "config";

.dataSet-output{
    @include position(relative, block, 100%);
    float : left;
    clear : both;
    background-color : #fff;
    @include box-shadow(0px 0px 3px rgba(#000, 0.2));

    $dataSet-height : 300px;
    $caption-height : 20px;
    $chart-text-color   : #777;
    $chart-border-color : #bbb;

    .numbers{
        z-index : 1;
        @include position(absolute, block, $series-name-size, $dataSet-height - ($caption-height * 1.5));
        top   : $caption-height;
        left  : 0px;
        color : #fff;

        .number{
            @include isAnimated;
            @include position(absolute, block, auto, 20px);
            top     : 0;
            right   : 0px;
            padding : 0 ($grid * 1.7);

            color : $chart-text-color;
            font-size   : 13px;
            line-height : 20px;

            &:after{
                @include position(absolute, block, $grid, 50%);
                top  : 50%;
                right : 0;
                content : ' ';
                //border-left : 1px solid $chart-border-color;
                border-top : 1px solid $chart-border-color;
                //border-right : 1px solid $chart-border-color;
            }

            .value{
                @include transform-origin(100%, 50%);
                @include transform(translateX(0px) translateY(0px));
                @include transition(
                    opacity ease-out 0.26s,
                    transform ease-out 0.3s
                );

                &.updated{
                    @include opacity(0);
                    @include transform(scale(0.5) translateX(10px));
                    @include transition(
                        opacity ease-in 0.1s,
                        transform ease-in 0.2s
                    );
                }
            }
        }
    }

    ul.dataSet{
        z-index : 2;
        @include position(relative, block, 100%, $dataSet-height);
        float : left;
        clear : both;
        padding-left : $series-name-size;

        @include resetList;
        margin : 0;

        li.dataSet_item{
            @include position(relative, block, $dataSet_item-width, $dataSet-height);
            float : left;

            .caption{
                z-index : 2;
                @include position(absolute, block, 100%, 20px);
                bottom : 0;
                left : 0;

                font-size : 13px;
                line-height: 20px;
                color : $chart-text-color;
                text-align : center;

                background-color : #fff;

                &:after{
                    @include position(absolute, block, 100%, 50%);
                    top  : 0;
                    left : 0;
                    content : ' ';
                    border-left : 1px solid $chart-border-color;
                    border-top : 1px solid $chart-border-color;
                    border-right : 1px solid $chart-border-color;
                }
            }

            .series-container{
                z-index : 1;
                @include position(absolute, block, 100%, 100%);
                top : 0;
                left : 0;

                ul.series{
                    @include resetList;
                    @include position(absolute, block, 100%, 100%);
                    bottom : 0;
                    left : 0;
                    margin : 0;
                    padding : ($caption-height + 6px) 15% $caption-height 15%;

                    li.series_item{
                        @include position(relative, block, 50%, 100%);
                        float : left;

                        .name{
                            // don't display the name of the series
                            // for all series items
                            display: none;
                        }

                        .value{
                            @include isAnimated;
                            @include position(absolute, block, 100%, 100%);
                            bottom : 0;
                            text-align : center;
                            font-size  : 10px;
                            color : rgba(#fff, 0.8);

                            @include transition(
                                height $ease-in-out-quart 0.4s 0.1s
                            );

                            @include proto(5);
                            @include box-shadow(
                                2px 2px 2px 0px rgba(#000, 0.08)
                            );
                            @include border-radius(20px 1px 0px 0px, 6px 3px 0px 0px);

                            border-top  : 1px solid #000;
                            border-left : 1px solid #000;
                        }

                        &:nth-child(1) .value{
                            border-color : $red-light;
                            background-color : $red;
                        }
                        &:nth-child(2) .value{
                            border-color : $blue-light;
                            background-color : $blue;
                        }
                        &:nth-child(3) .value{
                            border-color : $green-light;
                            background-color : $green;
                        }
                        &:nth-child(4) .value{
                            border-color : $orange-light;
                            background-color : $orange;
                        }
                    }
                }
            }

            &:first-child .series-container:after{
                @include position(absolute, block, 100%, 100%);
                bottom  : 0;
                left : 0;
                content : ' ';
                border-left : 1px solid $chart-border-color;
            }

            // only display the series name once
            &:first-child .series-container
              .series:first-child .series_item .name{
                @include position(absolute, none);
                top   : 0;
                right : 0;
                min-height: 20px;
                @include proto(4);

                padding : 2px 4px 0;
                color : #fff;
                text-align : right;
            }
        }
    }
}